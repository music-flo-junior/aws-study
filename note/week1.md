# 아마존 웹 서비스를 다루는 기술

## 1장. 왜 AWS인가?

- AWS 장점
  - 사용한 만큼 돈을 내는 AWS
  - 서버 증설이 빠르다. (5분이면 충분)
  - 서버 폐기도 빠르다. (2~3년 교체주기의 HW 비용이 없음)


- 1.1 가상화와 클라우드 컴퓨팅
  - 초기에 나왔던 VMware Workstation, Virtual PC는 게스트의 하드웨어와 명령어를 모두 에뮬레이션해야 했기 때문에 속도가 매우 느림
  - HVM(Hardware Virtual Machine)으로, 기존과 같이 하드웨어와 명령어를 모두 에물레이션하지 않고, CPU의 하이퍼바이저가 빠른 속도로 처리해줄 수 있게 되어 성능이 매우 향상 (전가상화)
  - Xen(젠)이라는 소프트웨어 하이퍼바이저가 나오면서 가상화에 획기적인 성능 개선이 이뤄짐. 이 방식은 게스트 OS(커널)을 수정해야 했지만, 전가상화보다 훨씬 빠르며 호스트와 거의 동일한 성능을 냄. (반가상화)
  - 가상화 기술 덕분에 클릭 몇 번이면 서버를 손쉽게 만들어 낼 수 있게 되었음. 이렇게 만들어낸 가상 서버를 일정 사용료를 받고 서비스 형태로 제공하는 것이 클라우드 컴퓨팅임.


- 1.2 아마존 웹 서비스
  - 2006년 미국 아마존에서는 앞서 설명한 Xen 가상화 기술을 이용하여 아마존 웹 서비스를 출시
  - AWS는 IT 인프라를 제공하는 IaaS(Infrastructure as a Service)라 할 수 있음.
  - AWS가 처음 나올 당시에는 가상 서버를 제공하는 EC2가 주된 기능.
  - 지금은 가상 서버 뿐만 아니라 DNS, CDN, 스토리지, 데이터베이스, 빅데이터, 메시지 큐 등 IT 서비스에 필요한 모든 요소 제공
  
## 2장. AWS 기본 개념 살펴보기

- AWS는 전 세계 주요 지역에 데이터센터가 위치하고 있음. 
- AWS를 사용하다 보면 항상 마주치게 되는 용어가 리전, 가용 영역이다.
- CDN 서비스인 CloudFront를 사용하다 보면 에지 로케이션(Edge Location)이라는 용어를 접한다.


- 2.1 리전,지역
  > 리전  
    - AWS의 모든 서비스가 위치하고 있는 물리적인 장소
    - 전 세계 주요 지역에 위치하고 있으면 리전 안에는 뒤에 설명할 가용 영역이 여러개 있음
    - 리전이 이렇게 여러 곳에 있는 이유는 네트워크 속도 때문 -> 가까운 리전에 접속해서 빠른 속도를 낼 수 있도록 처리함
    - 여러 곳에 두는 또 다른 이유로는 큰 재해에 대비하기 위함
    - 리전 = 지역


- 2.2 가용영역
    - 우리가 흔히 말하는 데이터센터
    - 가용영역이 위치한 데이터 센터는 같은 지역 혹은 도시라 하더라도 멀리 떨어져 있음
    - 가용영역이 물리적으로 떨어져 있는 이유는, 앞서 설명한 리전과 마찬가지임
    - 로드 밸런서인 ELB는 같은 리전 안에 여러 가용 영역에 걸쳐 있는 EC2에 트래픽을 분배해줄 수 있음. -> 무중단 서비스 제공 가능
    - 이런 특징을 가용성이라 하며, 가용성은 서버, 네트워크, 프로그램 등이 정상적으로 사용 가능한 정도를 나타냄 (= 가동률)


- 2.3 에지 로케이션
    - AWS의 CDN 서비스인 CloudFront를 위한 캐시 서버들을 뜻함.
  > CDN 서비스 (Content Delivery Network)
  - 콘텐츠를 사용자들이 빠르게 받을 수 있도록 전 세계 곳곳에 위치한 캐시 서버에 복제해주는 서비스
  - 리전과 같이 CDN 서비스는 전 세계 주요 도시에 캐시 서버를 구축해놓음.
  - CDN 캐시 서버는 인터넷 트래픽을 효과적으로 처리할 수 있는 지역에 POP를 구축
  - CDN 서비스와 사용자가 직접 만나는 곳이라고 하여 에지(Edge)라고 부름.

## 3장. AWS 계정 생성하기

- 생성 완료!

## 4장. 가상 서버를 제공하는 EC2

- EC2(Elastic Compute Cloud)는 AWS에서 가장 기본적이면서 널리 쓰이는 인프라.
- EC2는 인터넷에 연결된 가상 서버를 제공해줌.
- 사용해야 하는 이유 : 효율성과 비용 절감
- 우리가 일반적으로 보는 PC나 서버와 똑같은 형태이며 Linux나 Window가 설치되어 있음.
- 가상 서버이기 때문에 모니터에는 직접 연결할 수 없고 터미널 또는 원격 데스크톱 연결로 접속해야함.


- EC2 기본 개념
    - 시작(Start) : EC2 인스턴스를 시작. 운영체제가 부팅되고 사용할 수 있는 상태 (1분을 사용해도 1시간 요금으로 책정)
    - 정지(Stop) : EC2 인스턴스를 정지. 운영체제를 종료해 시스템이 정지한 상태이며 사용 요금이 과금되지 않음.
    - 삭제(Terminate) : EC2 인스턴스를 삭제. 삭제된 뒤에 목록에서 완전히 사라지면 시간이 조금 걸림.
    - 재부팅(Reboot) : EC2 인스턴스를 재부팅. 운영체제를 종료한 뒤 다시 시작
    - Root 장치 : 운영체제가 설치되는 스토리지. Root 장치로 EBS와 인스턴스 스토리지를 사용할 수 있음.
    - Kernel ID : EC2 인스턴스가 사용하는 리눅스 커널


- 4.1 EC2 인스턴스 유형
    - EC2에서 생성한 가상 서버를 인스턴스라고 함.
    - 인스턴스 유형이 여러 가지 사양으로 나뉘어져 있는 이유는, 비용 절감과 효율성 때문임.

> 인스턴스 패밀리
- 범용 : M1과 M3으로 시작하는 인스턴스 유형. vCPU, 메모리, 네트워크, 저장 공간등이 평균적인 사양으로 제공.
- 컴퓨팅 최적화 : C로 시작하는 인스턴스 유형. 다른 인스턴스 패밀리에 비해 메모리 대비 vCPU 비율이 높음
- GPU 인스턴스 : G로 시작하는 인스턴스 유형. 고성능의 NVIDIA GPU가 장착되어 있음. CUDA, OpenCL 등을 실행할 때 사용됨.
- 메모리 최적화 : M2와 CR1로 시작하는 인스턴스 유형. 다른 인스턴스 패밀리에 비해 메모리 용향이 훨씬 큼.
- 스토리지 최적화 : H와 I로 시작하는 인스턴스 유형. 다른 인스턴스 패밀리보다 스토리지 용량이 훨씬 크거나 초고속 I/O를 제공.
- 마이크로 인스턴스 : 가격이 가장 싼 인스터스. 낮은 vCPU 성능과 적은 메모리를 제공함.


- 4.2 EC2 인스턴스 구매 옵션
    - 구매 옵션도 여러가지가 준비되어 있는 이유는 비용 절감 때문임.
    - EC2 인스턴스는 구매 및 과금 방식에 따라 크게 3가지로 구분.
  
> 온 디맨드 인스턴스()